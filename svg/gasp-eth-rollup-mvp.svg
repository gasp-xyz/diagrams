<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2582px" preserveAspectRatio="none" style="width:4365px;height:2582px;background:#FFFFFF;" version="1.1" viewBox="0 0 4365 2582" width="4365px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="2570.5313" style="stroke:#181818;stroke-width:0.5;" width="853.001" x="1280.0908" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="630.8809" x="1391.1509" y="18.0669">Bob - dude who runs Gasp Collator + Sequencer as one service using docker-compose</text><rect fill="#FFFFE0" height="2570.5313" style="stroke:#181818;stroke-width:0.5;" width="699.7554" x="2597.1401" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102.7939" x="2895.6208" y="18.0669">Gasp Services</text><rect fill="#90EE90" height="2570.5313" style="stroke:#181818;stroke-width:0.5;" width="618.8926" x="3308.0176" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="531.0894" x="3351.9192" y="18.0669">AVS operator who runs Finalizer and Gasp Node in one docker container</text><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1629.2432" x="519.8486" y="256.9609"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="913.0918" x="1226" y="352.3594"/><rect fill="none" height="1202.4844" style="stroke:#000000;stroke-width:1.5;" width="1260.4629" x="1443" y="569.9609"/><rect fill="none" height="1171.3516" style="stroke:#000000;stroke-width:1.5;" width="1240.4629" x="1453" y="594.0938"/><rect fill="none" height="1140.2188" style="stroke:#000000;stroke-width:1.5;" width="1220.4629" x="1463" y="618.2266"/><rect fill="none" height="725.2813" style="stroke:#000000;stroke-width:1.5;" width="848.624" x="1673" y="726.625"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="365.1636" x="2008.1514" y="792.8906"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="331.1401" x="2008.1514" y="923.0938"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="503.4727" x="2008.1514" y="1244.4375"/><rect fill="none" height="166.1406" style="stroke:#000000;stroke-width:1.5;" width="1200.4629" x="1473" y="1543.1719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78" x2="78" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="602.8486" x2="602.8486" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1349.0908" x2="1349.0908" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2073.1514" x2="2073.1514" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2652.1401" x2="2652.1401" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2787.0493" x2="2787.0493" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3208.7793" x2="3208.7793" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3370.0176" x2="3370.0176" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3843.0811" x2="3843.0811" y1="81.2969" y2="2497.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4012.9102" x2="4012.9102" y1="81.2969" y2="2497.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.1143" x="5" y="77.9951">ETH Metamask User</text><ellipse cx="78.5571" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.5571,21.5 L78.5571,48.5 M65.5571,29.5 L91.5571,29.5 M78.5571,48.5 L65.5571,63.5 M78.5571,48.5 L91.5571,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.1143" x="5" y="2509.2295">ETH Metamask User</text><ellipse cx="78.5571" cy="2521.0313" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.5571,2529.0313 L78.5571,2556.0313 M65.5571,2537.0313 L91.5571,2537.0313 M78.5571,2556.0313 L65.5571,2571.0313 M78.5571,2556.0313 L91.5571,2571.0313 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.6582" x="529.8486" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.6582" x="536.8486" y="69.9951">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.6582" x="529.8486" y="2496.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.6582" x="536.8486" y="2516.2295">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.2432" x="1284.0908" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.2432" x="1291.0908" y="69.9951">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.2432" x="1284.0908" y="2496.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.2432" x="1291.0908" y="2516.2295">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.9404" x="2018.1514" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.9404" x="2025.1514" y="69.9951">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.9404" x="2018.1514" y="2496.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.9404" x="2025.1514" y="2516.2295">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="98.9092" x="2605.1401" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="98.9092" x="2601.1401" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.9092" x="2608.1401" y="69.9951">L1 Updaters</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="98.9092" x="2605.1401" y="2496.2344"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="98.9092" x="2601.1401" y="2500.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.9092" x="2608.1401" y="2520.2295">L1 Updaters</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.1387" x="2714.0493" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.1387" x="2721.0493" y="69.9951">Gasp Archive node</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.1387" x="2714.0493" y="2496.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.1387" x="2721.0493" y="2516.2295">Gasp Archive node</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168.1162" x="3124.7793" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.1162" x="3131.7793" y="69.9951">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168.1162" x="3124.7793" y="2496.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.1162" x="3131.7793" y="2516.2295">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="112.9502" x="3316.0176" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="112.9502" x="3312.0176" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.9502" x="3319.0176" y="69.9951">Gasp Finalizer</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="112.9502" x="3316.0176" y="2496.2344"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="112.9502" x="3312.0176" y="2500.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.9502" x="3319.0176" y="2520.2295">Gasp Finalizer</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="153.8291" x="3769.0811" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="153.8291" x="3765.0811" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.8291" x="3772.0811" y="69.9951">Gasp Follower Node</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="153.8291" x="3769.0811" y="2496.2344"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="153.8291" x="3765.0811" y="2500.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.8291" x="3772.0811" y="2520.2295">Gasp Follower Node</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="157.4521" x="3936.9102" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="157.4521" x="3932.9102" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.4521" x="3939.9102" y="69.9951">Eigen ETH Contracts</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="157.4521" x="3936.9102" y="2496.2344"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="157.4521" x="3932.9102" y="2500.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.4521" x="3939.9102" y="2520.2295">Eigen ETH Contracts</text><polygon fill="#181818" points="591.1777,108.4297,601.1777,112.4297,591.1777,116.4297,595.1777,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.5571" x2="597.1777" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.2588" x="85.5571" y="107.3638">Approval of 1 WETH token usage</text><polygon fill="#181818" points="591.1777,137.5625,601.1777,141.5625,591.1777,145.5625,595.1777,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.5571" x2="597.1777" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.7451" x="85.5571" y="136.4966">Trigger deposit of 1 WETH token</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="170.6953" y2="170.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="170.6953" y2="183.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="183.6953" y2="183.6953"/><polygon fill="#181818" points="2084.6216,179.6953,2074.6216,183.6953,2084.6216,187.6953,2080.6216,183.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="441.9175" x="2080.6216" y="165.6294">It is collators (Bob) order to produce a block and he just produced it</text><polygon fill="#181818" points="2061.6216,208.8281,2071.6216,212.8281,2061.6216,216.8281,2065.6216,212.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349.7124" x2="2067.6216" y1="212.8281" y2="212.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375.9526" x="1356.7124" y="207.7622">(Subscription) Checks weather my collator just built block</text><polygon fill="#181818" points="2061.6216,237.9609,2071.6216,241.9609,2061.6216,245.9609,2065.6216,241.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349.7124" x2="2067.6216" y1="241.9609" y2="241.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.2749" x="1356.7124" y="236.895">Fetch PENDING_REQUESTS (reads)</text><path d="M519.8486,256.9609 L596.4727,256.9609 L596.4727,264.0938 L586.4727,274.0938 L519.8486,274.0938 L519.8486,256.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1629.2432" x="519.8486" y="256.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="534.8486" y="270.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223.5986" x="611.4727" y="269.1714">[for each PENDING_REQUESTS read]</text><polygon fill="#181818" points="614.1777,291.2266,604.1777,295.2266,614.1777,299.2266,610.1777,295.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="608.1777" x2="1348.7124" y1="295.2266" y2="295.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="575.0024" x="620.1777" y="290.1606">get pending reads based on lastProccessedRequestOnL1 and lastAcceptedRequestOnL1</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349.7124" x2="1391.7124" y1="324.3594" y2="324.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1391.7124" x2="1391.7124" y1="324.3594" y2="337.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1350.7124" x2="1391.7124" y1="337.3594" y2="337.3594"/><polygon fill="#181818" points="1360.7124,333.3594,1350.7124,337.3594,1360.7124,341.3594,1356.7124,337.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="709.9092" x="1356.7124" y="319.2935">compare PENDING_REQUESTS read and pending read from ETH contract. Using hashing, or byte array value.</text><path d="M1226,352.3594 L1290.4429,352.3594 L1290.4429,359.4922 L1280.4429,369.4922 L1226,369.4922 L1226,352.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="913.0918" x="1226" y="352.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1241" y="365.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="370.3906" x="1305.4429" y="364.5698">[PENDING_REQUESTS read is NOT same as on ETH contract]</text><polygon fill="#181818" points="2061.6216,386.625,2071.6216,390.625,2061.6216,394.625,2065.6216,390.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349.7124" x2="2067.6216" y1="390.625" y2="390.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.7715" x="1356.7124" y="385.5591">Submit Cancel request extrinsic</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1226" x2="2139.0918" y1="399.625" y2="399.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129.3467" x="1231" y="409.8354">[if the values match]</text><path d="M1236,418.4297 L1236,443.4297 L1461,443.4297 L1461,428.4297 L1451,418.4297 L1236,418.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1451,418.4297 L1451,428.4297 L1461,428.4297 L1451,418.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.9785" x="1242" y="435.4966">We dont need to do any action.</text><polygon fill="#181818" points="614.1777,479.6953,604.1777,483.6953,614.1777,487.6953,610.1777,483.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="608.1777" x2="1348.7124" y1="483.6953" y2="483.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="722.5347" x="620.1777" y="478.6294">Read all ETH dep/with based on sequencer_latest_processed_block sequencer_latest_processed_transaction_id</text><polygon fill="#181818" points="2061.6216,508.8281,2071.6216,512.8281,2061.6216,516.8281,2065.6216,512.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1349.7124" x2="2067.6216" y1="512.8281" y2="512.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383.3286" x="1356.7124" y="507.7622">Submit provide_l1_read extr. with all fetched ETH dep/with</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="541.9609" y2="541.9609"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="541.9609" y2="554.9609"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="554.9609" y2="554.9609"/><polygon fill="#181818" points="2084.6216,550.9609,2074.6216,554.9609,2084.6216,558.9609,2080.6216,554.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="484.2881" x="2080.6216" y="536.895">store new value into pending_l1_reads with dispute period (block number)</text><path d="M1443,569.9609 L1954.1528,569.9609 L1954.1528,577.0938 L1944.1528,587.0938 L1443,587.0938 L1443,569.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1202.4844" style="stroke:#000000;stroke-width:1.5;" width="1260.4629" x="1443" y="569.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="466.1528" x="1458" y="583.0278">Separate action on Collator (maybe will move to separate UML)</text><path d="M1453,594.0938 L1529.624,594.0938 L1529.624,601.2266 L1519.624,611.2266 L1453,611.2266 L1453,594.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1171.3516" style="stroke:#000000;stroke-width:1.5;" width="1240.4629" x="1453" y="594.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1468" y="607.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="238.8364" x="1544.624" y="606.3042">[for each block at end_dispute_period]</text><path d="M1463,618.2266 L1539.624,618.2266 L1539.624,625.3594 L1529.624,635.3594 L1463,635.3594 L1463,618.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1140.2188" style="stroke:#000000;stroke-width:1.5;" width="1220.4629" x="1463" y="618.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1478" y="631.2935">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109.8228" x="1554.624" y="630.437">[for each l1_read]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="656.4922" y2="656.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="656.4922" y2="669.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="669.4922" y2="669.4922"/><polygon fill="#181818" points="2084.6216,665.4922,2074.6216,669.4922,2084.6216,673.4922,2080.6216,669.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342.1006" x="2080.6216" y="651.4263">Validates if Sequencer have enough Stake to submit</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="698.625" y2="698.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="698.625" y2="711.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="711.625" y2="711.625"/><polygon fill="#181818" points="2084.6216,707.625,2074.6216,711.625,2084.6216,715.625,2080.6216,711.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="417.5044" x="2080.6216" y="693.5591">Removes the READ right from sequencer (node storage update)</text><path d="M1673,726.625 L1737.4429,726.625 L1737.4429,733.7578 L1727.4429,743.7578 L1673,743.7578 L1673,726.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="725.2813" style="stroke:#000000;stroke-width:1.5;" width="848.624" x="1673" y="726.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1688" y="739.6919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="126.7148" x="1752.4429" y="738.8354">[l1_read is DEPOSIT]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="764.8906" y2="764.8906"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="764.8906" y2="777.8906"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="777.8906" y2="777.8906"/><polygon fill="#181818" points="2084.6216,773.8906,2074.6216,777.8906,2084.6216,781.8906,2080.6216,777.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.3638" x="2080.6216" y="759.8247">Deposits validations (balance,...)</text><path d="M2008.1514,792.8906 L2072.5942,792.8906 L2072.5942,800.0234 L2062.5942,810.0234 L2008.1514,810.0234 L2008.1514,792.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="365.1636" x="2008.1514" y="792.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="2023.1514" y="805.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.5156" x="2087.5942" y="805.1011">[ETH address DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="831.1563" y2="831.1563"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="831.1563" y2="844.1563"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="844.1563" y2="844.1563"/><polygon fill="#181818" points="2084.6216,840.1563,2074.6216,844.1563,2084.6216,848.1563,2080.6216,844.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.8672" x="2080.6216" y="826.0903">Fetch Gasp version of ETH adress</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2008.1514" x2="2373.3149" y1="853.1563" y2="853.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="190.9263" x="2013.1514" y="863.3667">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="888.0938" y2="888.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="888.0938" y2="901.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="901.0938" y2="901.0938"/><polygon fill="#181818" points="2084.6216,897.0938,2074.6216,901.0938,2084.6216,905.0938,2080.6216,901.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.6934" x="2080.6216" y="883.0278">Creates new ETH compatible Gasp address</text><path d="M2008.1514,923.0938 L2072.5942,923.0938 L2072.5942,930.2266 L2062.5942,940.2266 L2008.1514,940.2266 L2008.1514,923.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="331.1401" x="2008.1514" y="923.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="2023.1514" y="936.1606">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.4517" x="2087.5942" y="935.3042">[ETH Asset registry DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="961.3594" y2="961.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="961.3594" y2="974.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="974.3594" y2="974.3594"/><polygon fill="#181818" points="2084.6216,970.3594,2074.6216,974.3594,2084.6216,978.3594,2080.6216,974.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5122" x="2080.6216" y="956.2935">Fetch Gasp version of ERC20 token</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2008.1514" x2="2339.2915" y1="983.3594" y2="983.3594"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="190.9263" x="2013.1514" y="993.5698">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1018.2969" y2="1018.2969"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1018.2969" y2="1031.2969"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1031.2969" y2="1031.2969"/><polygon fill="#181818" points="2084.6216,1027.2969,2074.6216,1031.2969,2084.6216,1035.2969,2080.6216,1031.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.6699" x="2080.6216" y="1013.231">Register new asset registry and use it</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1067.4297" y2="1067.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1067.4297" y2="1080.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1080.4297" y2="1080.4297"/><polygon fill="#181818" points="2084.6216,1076.4297,2074.6216,1080.4297,2084.6216,1084.4297,2080.6216,1080.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6079" x="2080.6216" y="1062.3638">Mint token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1673" x2="2521.624" y1="1089.4297" y2="1089.4297"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="159.8438" x="1678" y="1099.6401">[l1_read is WITHDRAWAL]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1124.3672" y2="1124.3672"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1124.3672" y2="1137.3672"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1137.3672" y2="1137.3672"/><polygon fill="#181818" points="2084.6216,1133.3672,2074.6216,1137.3672,2084.6216,1141.3672,2080.6216,1137.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.1079" x="2080.6216" y="1119.3013">Withdrawal validations (balance,token existence,...)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1166.5" y2="1166.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1166.5" y2="1179.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1179.5" y2="1179.5"/><polygon fill="#181818" points="2084.6216,1175.5,2074.6216,1179.5,2084.6216,1183.5,2080.6216,1179.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.1851" x="2080.6216" y="1161.4341">Burn token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1673" x2="2521.624" y1="1188.5" y2="1188.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206.3789" x="1678" y="1198.7104">[l1_read is CANCEL_RESOLUTION]</text><path d="M1683,1207.3047 L1683,1232.3047 L2462,1232.3047 L2462,1217.3047 L2452,1207.3047 L1683,1207.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2452,1207.3047 L2452,1217.3047 L2462,1217.3047 L2452,1207.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="758.7734" x="1689" y="1224.3716">This action is triggered from Gasp contract when cancelation is resolved. It will be resolved by comparing the reads.</text><path d="M2008.1514,1244.4375 L2072.5942,1244.4375 L2072.5942,1251.5703 L2062.5942,1261.5703 L2008.1514,1261.5703 L2008.1514,1244.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="503.4727" x="2008.1514" y="1244.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="2023.1514" y="1257.5044">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="282.7773" x="2087.5942" y="1256.6479">[CANCEL_RESOLUTION is CANCEL_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1282.7031" y2="1282.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1282.7031" y2="1295.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1295.7031" y2="1295.7031"/><polygon fill="#181818" points="2084.6216,1291.7031,2074.6216,1295.7031,2084.6216,1299.7031,2080.6216,1295.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371.0015" x="2080.6216" y="1277.6372">Find malicious l1_read in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1324.8359" y2="1324.8359"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1324.8359" y2="1337.8359"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1337.8359" y2="1337.8359"/><polygon fill="#181818" points="2084.6216,1333.8359,2074.6216,1337.8359,2084.6216,1341.8359,2080.6216,1337.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.2778" x="2080.6216" y="1319.77">Call slash_sequencer(seq_address)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2008.1514" x2="2511.624" y1="1346.8359" y2="1346.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="314.3379" x="2013.1514" y="1357.0464">[CANCEL_RESOLUTION is CANCEL_NOT_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1381.7734" y2="1381.7734"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1381.7734" y2="1394.7734"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1394.7734" y2="1394.7734"/><polygon fill="#181818" points="2084.6216,1390.7734,2074.6216,1394.7734,2084.6216,1398.7734,2080.6216,1394.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419.0024" x="2080.6216" y="1376.7075">Find malicious cancel request in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1423.9063" y2="1423.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1423.9063" y2="1436.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1436.9063" y2="1436.9063"/><polygon fill="#181818" points="2084.6216,1432.9063,2074.6216,1436.9063,2084.6216,1440.9063,2080.6216,1436.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.2778" x="2080.6216" y="1418.8403">Call slash_sequencer(seq_address)</text><path d="M1888,1463.9063 L1888,1488.9063 L2257,1488.9063 L2257,1473.9063 L2247,1463.9063 L1888,1463.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2247,1463.9063 L2247,1473.9063 L2257,1473.9063 L2247,1463.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348.2769" x="1894" y="1480.9731">Our merkle leafs (pending updates) should be unique</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1515.1719" y2="1515.1719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1515.1719" y2="1528.1719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1528.1719" y2="1528.1719"/><polygon fill="#181818" points="2084.6216,1524.1719,2074.6216,1528.1719,2084.6216,1532.1719,2080.6216,1528.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564.9731" x="2080.6216" y="1510.106">Store succesfull WITHDRAWAL and CANCELS to pending_updates (leafs of Merkle root)</text><path d="M1473,1543.1719 L1537.4429,1543.1719 L1537.4429,1550.3047 L1527.4429,1560.3047 L1473,1560.3047 L1473,1543.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="166.1406" style="stroke:#000000;stroke-width:1.5;" width="1200.4629" x="1473" y="1543.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1488" y="1556.2388">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="317.4155" x="1552.4429" y="1555.3823">[automatically when update_batch_size is reached]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1581.4375" y2="1581.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1581.4375" y2="1594.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1594.4375" y2="1594.4375"/><polygon fill="#181818" points="2084.6216,1590.4375,2074.6216,1594.4375,2084.6216,1598.4375,2080.6216,1594.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.9868" x="2080.6216" y="1576.3716">Prepare batch for updater to update</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1473" x2="2673.4629" y1="1603.4375" y2="1603.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="425.9707" x="1478" y="1613.6479">[automatically timed when update_minimal_block_period is reached]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1638.375" y2="1638.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1638.375" y2="1651.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1651.375" y2="1651.375"/><polygon fill="#181818" points="2084.6216,1647.375,2074.6216,1651.375,2084.6216,1655.375,2080.6216,1651.375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.9868" x="2080.6216" y="1633.3091">Prepare batch for updater to update</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1473" x2="2673.4629" y1="1660.375" y2="1660.375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116.1714" x="1478" y="1670.5854">[optional creation]</text><path d="M1483,1679.1797 L1483,1704.1797 L2663,1704.1797 L2663,1689.1797 L2653,1679.1797 L1483,1679.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2653,1679.1797 L2653,1689.1797 L2663,1689.1797 L2653,1679.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="1159.4629" x="1489" y="1696.2466">There needs to be extrinsic to form a new batch. There is a configurable merkle_root_batch_creation_fee for this tx. This fee needs to be higher than Eigen layer estimated costs.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2073.6216" x2="2115.6216" y1="1737.4453" y2="1737.4453"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115.6216" x2="2115.6216" y1="1737.4453" y2="1750.4453"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2074.6216" x2="2115.6216" y1="1750.4453" y2="1750.4453"/><polygon fill="#181818" points="2084.6216,1746.4453,2074.6216,1750.4453,2084.6216,1754.4453,2080.6216,1750.4453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430.479" x="2080.6216" y="1732.3794">Returns back the READ right for sequencer (node storage update)</text><polygon fill="#181818" points="2798.1187,1796.5781,2788.1187,1800.5781,2798.1187,1804.5781,2794.1187,1800.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2792.1187" x2="3207.8374" y1="1800.5781" y2="1800.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397.7188" x="2804.1187" y="1795.5122">Check if there is a new batch of updates formed on the Node</text><polygon fill="#181818" points="4001.6362,1825.7109,4011.6362,1829.7109,4001.6362,1833.7109,4005.6362,1829.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3208.8374" x2="4007.6362" y1="1829.7109" y2="1829.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.7861" x="3215.8374" y="1824.645">Submits task: "Finalize GASP blocks"</text><polygon fill="#181818" points="4001.6362,1854.8438,4011.6362,1858.8438,4001.6362,1862.8438,4005.6362,1858.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3370.4927" x2="4007.6362" y1="1858.8438" y2="1858.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.6963" x="3377.4927" y="1853.7778">Fetches the new task</text><path d="M3622,1871.8438 L3622,1896.8438 L4065,1896.8438 L4065,1881.8438 L4055,1871.8438 L3622,1871.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4055,1871.8438 L4055,1881.8438 L4065,1881.8438 L4055,1871.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="422.2334" x="3628" y="1888.9106">Merkle Root should be build on demand inside RPC, when asked.</text><polygon fill="#181818" points="3831.9956,1919.1094,3841.9956,1923.1094,3831.9956,1927.1094,3835.9956,1923.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3370.4927" x2="3837.9956" y1="1923.1094" y2="1923.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="449.5029" x="3377.4927" y="1918.0435">Reads pending_updates hashes and Merkel Root of pending_updates</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3370.4927" x2="3412.4927" y1="1952.2422" y2="1952.2422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3412.4927" x2="3412.4927" y1="1952.2422" y2="1965.2422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3371.4927" x2="3412.4927" y1="1965.2422" y2="1965.2422"/><polygon fill="#181818" points="3381.4927,1961.2422,3371.4927,1965.2422,3381.4927,1969.2422,3377.4927,1965.2422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435.6714" x="3377.4927" y="1947.1763">Validates N blocks and do storage proof - N should be configurable</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3370.4927" x2="3412.4927" y1="1994.375" y2="1994.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3412.4927" x2="3412.4927" y1="1994.375" y2="2007.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3371.4927" x2="3412.4927" y1="2007.375" y2="2007.375"/><polygon fill="#181818" points="3381.4927,2003.375,3371.4927,2007.375,3381.4927,2011.375,3377.4927,2007.375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404.7583" x="3377.4927" y="1989.3091">Prepare the Merkel Root of pending_updates as task response</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3370.4927" x2="3412.4927" y1="2036.5078" y2="2036.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3412.4927" x2="3412.4927" y1="2036.5078" y2="2049.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3371.4927" x2="3412.4927" y1="2049.5078" y2="2049.5078"/><polygon fill="#181818" points="3381.4927,2045.5078,3371.4927,2049.5078,3381.4927,2053.5078,3377.4927,2049.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5376" x="3377.4927" y="2031.4419">Sign the response with operator PK</text><polygon fill="#181818" points="3219.8374,2074.6406,3209.8374,2078.6406,3219.8374,2082.6406,3215.8374,2078.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3213.8374" x2="3369.4927" y1="2078.6406" y2="2078.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6553" x="3225.8374" y="2073.5747">Returns finished task</text><polygon fill="#181818" points="4001.6362,2103.7734,4011.6362,2107.7734,4001.6362,2111.7734,4005.6362,2107.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3208.8374" x2="4007.6362" y1="2107.7734" y2="2107.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.9697" x="3215.8374" y="2102.7075">Submits TX with Merkel Root information</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="4013.6362" x2="4055.6362" y1="2136.9063" y2="2136.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="4055.6362" x2="4055.6362" y1="2136.9063" y2="2149.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="4014.6362" x2="4055.6362" y1="2149.9063" y2="2149.9063"/><polygon fill="#181818" points="4024.6362,2145.9063,4014.6362,2149.9063,4024.6362,2153.9063,4020.6362,2149.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337.8286" x="4020.6362" y="2131.8403">Stores Merkel Root information with batch identifier</text><polygon fill="#181818" points="4001.6362,2175.0391,4011.6362,2179.0391,4001.6362,2183.0391,4005.6362,2179.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2652.5947" x2="4007.6362" y1="2179.0391" y2="2179.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.7827" x="2659.5947" y="2173.9731">Subscribed for for the finilized updates</text><polygon fill="#181818" points="4001.6362,2204.1719,4011.6362,2208.1719,4001.6362,2212.1719,4005.6362,2208.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2652.5947" x2="4007.6362" y1="2208.1719" y2="2208.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.4849" x="2659.5947" y="2203.106">Fetch the eygen layer Merkel Root</text><polygon fill="#181818" points="614.1777,2233.3047,604.1777,2237.3047,614.1777,2241.3047,610.1777,2237.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="608.1777" x2="2651.5947" y1="2237.3047" y2="2237.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="472.3926" x="620.1777" y="2232.2388">Executes TX to submit Merkle Root with pending_update batch identifier</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="603.1777" x2="645.1777" y1="2266.4375" y2="2266.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="645.1777" x2="645.1777" y1="2266.4375" y2="2279.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.1777" x2="645.1777" y1="2279.4375" y2="2279.4375"/><polygon fill="#181818" points="614.1777,2275.4375,604.1777,2279.4375,614.1777,2283.4375,610.1777,2279.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="367.7197" x="610.1777" y="2261.3716">Stores Merkel Root with pending_update batch identifier</text><path d="M549,2292.4375 L549,2317.4375 L657,2317.4375 L657,2302.4375 L647,2292.4375 L549,2292.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M647,2292.4375 L647,2302.4375 L657,2302.4375 L647,2292.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.0962" x="555" y="2309.5044">Ferries TODO</text><polygon fill="#181818" points="2775.1187,2339.7031,2785.1187,2343.7031,2775.1187,2347.7031,2779.1187,2343.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.5571" x2="2781.1187" y1="2343.7031" y2="2343.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.2368" x="85.5571" y="2338.6372">Get the pending update and proof from RPC.</text><polygon fill="#181818" points="591.1777,2368.8359,601.1777,2372.8359,591.1777,2376.8359,595.1777,2372.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.5571" x2="597.1777" y1="2372.8359" y2="2372.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="500.6206" x="85.5571" y="2367.77">Close withdrawal (bringing pending_update + signed proof from Eigen layer)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="603.1777" x2="645.1777" y1="2401.9688" y2="2401.9688"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="645.1777" x2="645.1777" y1="2401.9688" y2="2414.9688"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.1777" x2="645.1777" y1="2414.9688" y2="2414.9688"/><polygon fill="#181818" points="614.1777,2410.9688,604.1777,2414.9688,614.1777,2418.9688,610.1777,2414.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8491" x="610.1777" y="2396.9028">Validate the proofs</text><path d="M525,2427.9688 L525,2452.9688 L680,2452.9688 L680,2437.9688 L670,2427.9688 L525,2427.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M670,2427.9688 L670,2437.9688 L680,2437.9688 L670,2427.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.8496" x="531" y="2445.0356">Fee is payed by user</text><polygon fill="#181818" points="89.5571,2475.2344,79.5571,2479.2344,89.5571,2483.2344,85.5571,2479.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.5571" x2="602.1777" y1="2479.2344" y2="2479.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.8882" x="95.5571" y="2474.1685">Sends funds to user address</text><!--SRC=[lLXDSo8v4htNhyXW8ZPmT9kTdgCF6q5ZnkCOsp20sxCdGbG9qBeeCPBARkRNxqj9zMM3xTZeM0v0LKcPBxzUfagaJXiAdzvuyHlTIYTsmZxIlPMc5vy8IoKkasGlZ5Efsel2KUzAs3tndf4kd16fwuMb6znFuwqaMUdlrFkgLtHEMPb9UjvgCcLXoMyVwJmN3E4JpULVfInIQLY6BYH1uvDA9LIhOaEPJX-bEK_rRg-jxD5FDsgpTL_pKdPHDMBwq7eMCTdgRdTnhJwknSeqtafaaH70Hmiysdb0P2lj_vPvhfyJtY9JfpIiwjryeVjz9fmqriihmyKHrmrDkbLFaWgTIRzKX1lTfMEraGKDDqPkFD9_qE8shAvklK0w_3OdlPV6hwwz_QigHAx-PkzYjTT_1xsa2k_hu5tYi0bLSEI3XLT6og9heDzRY_DGAdN75cfs4KJVLLQkuvq6TcTNiBUTLZR6KFAJ9h4u8-dy_5-TVBkWuNvlz9F8IQ_f2psm8ASV8RAqOYDFxLeOjTdWIIQHNSgzsXn0UfVovkhYWguTgIPfR4WaqYQ3CAS9MB8IEInebSF5tlbRIVyfhQkUPQHWJPsWB-Jtv-NAfaRjsJrdDDhAzD7IinHkYxMxGxqqo5oLAdT1rscPlqgNRcawlhkylhjQpiP_t8_dYpdrZHIPFKiIohNU8qw6f3YsaDSbb51NVjUX6ma34M4kNI-NLiB2LbrGBgoR6fsYa71dnaAicnGe7FOEFntYsTvrdhtMLrzT49E2CF8uKY-r3ONMHkzyXbLm1s0xVheLTelVpuWVhGuEOJD670ZPLCe1_C9v2FSULuCqk9iio8gT30pMKP449ZqL4aHvXxGR2JpB8S_RJVAxCwgmAlMxPMvHhsj2v0CaIpk1I4RH1281PFq4uGtTKVrvu2e7enGIOK1gPXgUEP3mXJUe5t9Lig0aNh3Z-ITvAzepx-SyzoQZXlxvhDosYNYzTGbpOTWIgH-YlmnbySO2Q2Xi0BbKMVAE0xdsLIQN-PUb3mfxS40U3SDRS-O3KnlcoTAs-0Oxo-VWRL0b5tH8f4g13R8pPVSbd0yUL3gZVh2gA7ShQL1G6wDBxXv8Ki5PvQrXnpJzPoSEApH71P0xX903PAlrzxStN9KloZ8IYkFeB2E0PG20jJvytGqHid_IVF7dX0E-WUAvULdEkgQlRWNmoKANcotDdNWCOBt_tvCuasoSzIay6myloN2J2GNPHBRF7T6x7umT6-XP6p4NOHLXbDtbU3gPNozQkNv2_MLWTyi1PSjyn-clHCvbztam69orPB0IpXEHPGQfI9UJyHpvfAophLKdTGMIzJqG5MbzmDTH8CjhoV25tLQLQHd8vEFgHd06HuhJDV0EAD6fLIu3XYYwhRN8ZbWxHD4v4D06YitX1naz6_toSsYaFzZgcSU9b66pHHSwqtx9ZEbE67r2vYtgF7PzBXq_-BOGj_BkuNhns-Li-32yUK_c0qWYC-8POydHr0lglDtoLIgUaFcrDCN7S8w6TwFn3ThLV79plxYUt1tf6FNOs_XgiSNUo5NuvyA896F_z46kEW3cJC18VVSIrGO4LUTFCXlmaEIP3GnNtKH_ZMsR6o_pWQVJ4tseoj1NbhJC6qwdiyctyUNxD83XDKFhp35Zwz8sdYe85cF58P1wwq3ogdXELI4t6OiHPhkiwQoFVyieeGcgZz5Rvg0G_dUJqkuSyV-rh5LYIVTMycxMJKeCjT8yWhPoATOeaMfo2st0df7TwZBFE9VAGW59yZfVaZTDcVk-RaiUGDSbp6hgs9D62C2SMjq-AgT-00LEkmqWZTRkZ5xQowagIgSndgaKZZk4-WXIbYiUsfOMfwTG9O97akIz04oDz3EktnqgFfmi6MVusox_hdgdTYYvDeYTAXJo9SnVSMnemQ4VZKVx0mpuB-L6XRyVuo1c8UcdC8bP2v8Hzdegvcietk5qnVplaGpY1gOkfgUrsfH6S1iCQRNaYCKGL52MQocz1OuPptqV1EhZksszMymgRDvMOBJtfzHS77035GPNuhW2VUXR9ociAOpapPRcGEnyNC9qzt9EqkRZOrAhw99mvSVu-hM1rnjVELo4WsKyNLJkgvtA2L-L03iyJFKCZa_rBqHsZkdLO0uV2ljuGRtgnG5T3UVJCCFQNbA_hpWYmCyKSMPaH2meQPAcVfr0LKtE4E4MI_2HsEFDv8xBcrC7VfjDHvz3HK0UcbHIHwi3fX8VpZZs5IFmaH4_B9ZLWtIzUZZinSgksEgYFMJVHNTuOJYTLP75cGRYpl6yCQgTsQSaLnNAZdiR6vzNsQtSdVSOJ4wAdAjD4PjrM1ZwIRrw-djtPvqPJLwlGJoM6SR7yKEfi_Wpg6aReGfEnC0adMr71J7ZsrFxAHvMET6H6OLJQyKlEoi-EuwCNygiU1ZI9dA7zBPnScTLjRmb8ypAl4qU6Z9fOUnixfwtnzzbMdBWu9hwyDN9VszJDyn7J6nBFQBcYDy-9hSfpyxBO8BHnYZ6FRcSD1NNl9Mh-UWAeppxfjl-mxiSNmz-24KH3qwzqXlbEkPddBpxAvurMTWB_9_88gzbHtABuC_USrDLmW4mox1lUS2pwnwI_H3iv_RQ4wyqyMC40WjGEcKHcf6tE0vU_mK0]--></g></svg>