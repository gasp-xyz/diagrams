<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2789px" preserveAspectRatio="none" style="width:3611px;height:2789px;background:#FFFFFF;" version="1.1" viewBox="0 0 3611 2789" width="3611px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="2777" style="stroke:#181818;stroke-width:0.5;" width="837" x="994.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="469" x="1178.5" y="18.0669">Bob - dude who runs Gasp Collator + Sequencer as one service</text><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1599.5" x="248" y="299.0938"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="893.5" x="944" y="394.4922"/><rect fill="none" height="1213.4844" style="stroke:#000000;stroke-width:1.5;" width="1070.5" x="1356" y="612.0938"/><rect fill="none" height="1182.3516" style="stroke:#000000;stroke-width:1.5;" width="1050.5" x="1366" y="636.2266"/><rect fill="none" height="1151.2188" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="1376" y="660.3594"/><rect fill="none" height="867.2891" style="stroke:#000000;stroke-width:1.5;" width="823.5" x="1386" y="768.7578"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="358" x="1709.5" y="835.0234"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="322" x="1709.5" y="965.2266"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="490" x="1709.5" y="1378.6406"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="403" x="10" y="2538.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="92" x2="92" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="330" x2="330" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1064.5" x2="1064.5" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1773.5" x2="1773.5" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2401" x2="2401" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2549" x2="2549" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2805.5" x2="2805.5" y1="81.2969" y2="2703.7031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3246" x2="3246" y1="81.2969" y2="2703.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="20" y="77.9951">ETH Metamask User</text><ellipse cx="92.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M92.5,21.5 L92.5,48.5 M79.5,29.5 L105.5,29.5 M92.5,48.5 L79.5,63.5 M92.5,48.5 L105.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="20" y="2715.6982">ETH Metamask User</text><ellipse cx="92.5" cy="2727.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M92.5,2735.5 L92.5,2762.5 M79.5,2743.5 L105.5,2743.5 M92.5,2762.5 L79.5,2777.5 M92.5,2762.5 L105.5,2777.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="258" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="265" y="69.9951">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="258" y="2702.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="265" y="2722.6982">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="998.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1005.5" y="69.9951">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="998.5" y="2702.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1005.5" y="2722.6982">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1719.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1726.5" y="69.9951">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1719.5" y="2702.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1726.5" y="2722.6982">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2347" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2354" y="69.9951">Gasp Updater</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2347" y="2702.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2354" y="2722.6982">Gasp Updater</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="2466" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2473" y="69.9951">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="2466" y="2702.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2473" y="2722.6982">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2732.5" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2728.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2735.5" y="69.9951">Gasp Finalizer (AVS)</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2732.5" y="2702.7031"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2728.5" y="2706.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2735.5" y="2726.6982">Gasp Finalizer (AVS)</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3170" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3166" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="3173" y="69.9951">Eigen ETH Contracts</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3170" y="2702.7031"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3166" y="2706.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="3173" y="2726.6982">Eigen ETH Contracts</text><polygon fill="#181818" points="318.5,108.4297,328.5,112.4297,318.5,116.4297,322.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="324.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="99.5" y="107.3638">Trigger deposit of 1 WETH token</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330.5" x2="372.5" y1="141.5625" y2="141.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372.5" x2="372.5" y1="141.5625" y2="154.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331.5" x2="372.5" y1="154.5625" y2="154.5625"/><polygon fill="#181818" points="341.5,150.5625,331.5,154.5625,341.5,158.5625,337.5,154.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="337.5" y="136.4966">Checks if ERC20 token exists on the network</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="183.6953" y2="183.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="183.6953" y2="196.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="196.6953" y2="196.6953"/><polygon fill="#181818" points="1784.5,192.6953,1774.5,196.6953,1784.5,200.6953,1780.5,196.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="1780.5" y="178.6294">It is collators (Bob) order to produce a block and he just produced it</text><polygon fill="#181818" points="1761.5,221.8281,1771.5,225.8281,1761.5,229.8281,1765.5,225.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1767.5" y1="225.8281" y2="225.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="1071.5" y="220.7622">(Subscription) Checks weather my collator just built block</text><polygon fill="#181818" points="1761.5,250.9609,1771.5,254.9609,1761.5,258.9609,1765.5,254.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1767.5" y1="254.9609" y2="254.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="610" x="1071.5" y="249.895">Checks the sequencer_latest_processed_block and sequencer_latest_processed_transaction_id</text><polygon fill="#181818" points="1761.5,280.0938,1771.5,284.0938,1761.5,288.0938,1765.5,284.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1767.5" y1="284.0938" y2="284.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1071.5" y="279.0278">Fetch PENDING_REQUESTS (reads)</text><path d="M248,299.0938 L325,299.0938 L325,306.2266 L315,316.2266 L248,316.2266 L248,299.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1599.5" x="248" y="299.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="263" y="312.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="229" x="340" y="311.3042">[for each PENDING_REQUESTS read]</text><polygon fill="#181818" points="341.5,333.3594,331.5,337.3594,341.5,341.3594,337.5,337.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335.5" x2="1063.5" y1="337.3594" y2="337.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564" x="347.5" y="332.2935">get pending reads based on lastProccessedRequestOnL1 and lastAcceptedRequestOnL1</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1106.5" y1="366.4922" y2="366.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1106.5" x2="1106.5" y1="366.4922" y2="379.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1065.5" x2="1106.5" y1="379.4922" y2="379.4922"/><polygon fill="#181818" points="1075.5,375.4922,1065.5,379.4922,1075.5,383.4922,1071.5,379.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="695" x="1071.5" y="361.4263">compare PENDING_REQUESTS read and pending read from ETH contract. Using hashing, or byte array value.</text><path d="M944,394.4922 L1008,394.4922 L1008,401.625 L998,411.625 L944,411.625 L944,394.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="893.5" x="944" y="394.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="959" y="407.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="381" x="1023" y="406.7026">[PENDING_REQUESTS read is NOT same as on ETH contract]</text><polygon fill="#181818" points="1761.5,428.7578,1771.5,432.7578,1761.5,436.7578,1765.5,432.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1767.5" y1="432.7578" y2="432.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="1071.5" y="427.6919">Submit Cancel request extrinsic</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="944" x2="1837.5" y1="441.7578" y2="441.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="949" y="451.9683">[if the values match]</text><path d="M954,460.5625 L954,485.5625 L1174,485.5625 L1174,470.5625 L1164,460.5625 L954,460.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1164,460.5625 L1164,470.5625 L1174,470.5625 L1164,460.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="960" y="477.6294">We dont need to do any action.</text><polygon fill="#181818" points="341.5,521.8281,331.5,525.8281,341.5,529.8281,337.5,525.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335.5" x2="1063.5" y1="525.8281" y2="525.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="710" x="347.5" y="520.7622">Read all ETH dep/with based on sequencer_latest_processed_block sequencer_latest_processed_transaction_id</text><polygon fill="#181818" points="1761.5,550.9609,1771.5,554.9609,1761.5,558.9609,1765.5,554.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1064.5" x2="1767.5" y1="554.9609" y2="554.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="1071.5" y="549.895">Submit provide_l1_read extr. with all fetched ETH dep/with</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="584.0938" y2="584.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="584.0938" y2="597.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="597.0938" y2="597.0938"/><polygon fill="#181818" points="1784.5,593.0938,1774.5,597.0938,1784.5,601.0938,1780.5,597.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="469" x="1780.5" y="579.0278">store new value into pending_l1_reads with dispute period (block number)</text><path d="M1356,612.0938 L1871,612.0938 L1871,619.2266 L1861,629.2266 L1356,629.2266 L1356,612.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1213.4844" style="stroke:#000000;stroke-width:1.5;" width="1070.5" x="1356" y="612.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="470" x="1371" y="625.1606">Separate action on Collator (maybe will move to separate UML)</text><path d="M1366,636.2266 L1443,636.2266 L1443,643.3594 L1433,653.3594 L1366,653.3594 L1366,636.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1182.3516" style="stroke:#000000;stroke-width:1.5;" width="1050.5" x="1366" y="636.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1381" y="649.2935">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="247" x="1458" y="648.437">[for each block at end_dispute_period]</text><path d="M1376,660.3594 L1453,660.3594 L1453,667.4922 L1443,677.4922 L1376,677.4922 L1376,660.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1151.2188" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="1376" y="660.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1391" y="673.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1468" y="672.5698">[for each l1_read]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="698.625" y2="698.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="698.625" y2="711.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="711.625" y2="711.625"/><polygon fill="#181818" points="1784.5,707.625,1774.5,711.625,1784.5,715.625,1780.5,711.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="1780.5" y="693.5591">Validates if Sequencer have enough Stake to submit</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="740.7578" y2="740.7578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="740.7578" y2="753.7578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="753.7578" y2="753.7578"/><polygon fill="#181818" points="1784.5,749.7578,1774.5,753.7578,1784.5,757.7578,1780.5,753.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="1780.5" y="735.6919">Removes the READ right from sequencer (node storage update)</text><path d="M1386,768.7578 L1450,768.7578 L1450,775.8906 L1440,785.8906 L1386,785.8906 L1386,768.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="867.2891" style="stroke:#000000;stroke-width:1.5;" width="823.5" x="1386" y="768.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1401" y="781.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="1465" y="780.9683">[l1_read is DEPOSIT]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="807.0234" y2="807.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="807.0234" y2="820.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="820.0234" y2="820.0234"/><polygon fill="#181818" points="1784.5,816.0234,1774.5,820.0234,1784.5,824.0234,1780.5,820.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1780.5" y="801.9575">Deposits validations (balance,...)</text><path d="M1709.5,835.0234 L1773.5,835.0234 L1773.5,842.1563 L1763.5,852.1563 L1709.5,852.1563 L1709.5,835.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="358" x="1709.5" y="835.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1724.5" y="848.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171" x="1788.5" y="847.2339">[ETH address DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="873.2891" y2="873.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="873.2891" y2="886.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="886.2891" y2="886.2891"/><polygon fill="#181818" points="1784.5,882.2891,1774.5,886.2891,1784.5,890.2891,1780.5,886.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1780.5" y="868.2231">Fetch Gasp version of ETH adress</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1709.5" x2="2067.5" y1="895.2891" y2="895.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1714.5" y="905.4995">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="930.2266" y2="930.2266"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="930.2266" y2="943.2266"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="943.2266" y2="943.2266"/><polygon fill="#181818" points="1784.5,939.2266,1774.5,943.2266,1784.5,947.2266,1780.5,943.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1780.5" y="925.1606">Creates new ETH compatible Gasp address</text><path d="M1709.5,965.2266 L1773.5,965.2266 L1773.5,972.3594 L1763.5,982.3594 L1709.5,982.3594 L1709.5,965.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="322" x="1709.5" y="965.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1724.5" y="978.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="208" x="1788.5" y="977.437">[ETH Asset registry DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1003.4922" y2="1003.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1003.4922" y2="1016.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1016.4922" y2="1016.4922"/><polygon fill="#181818" points="1784.5,1012.4922,1774.5,1016.4922,1784.5,1020.4922,1780.5,1016.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1780.5" y="998.4263">Fetch Gasp version of ERC20 token</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1709.5" x2="2031.5" y1="1025.4922" y2="1025.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1714.5" y="1035.7026">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1060.4297" y2="1060.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1060.4297" y2="1073.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1073.4297" y2="1073.4297"/><polygon fill="#181818" points="1784.5,1069.4297,1774.5,1073.4297,1784.5,1077.4297,1780.5,1073.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="1780.5" y="1055.3638">Register new asset registry and use it</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1109.5625" y2="1109.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1109.5625" y2="1122.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1122.5625" y2="1122.5625"/><polygon fill="#181818" points="1784.5,1118.5625,1774.5,1122.5625,1784.5,1126.5625,1780.5,1122.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1780.5" y="1104.4966">Mint token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1386" x2="2209.5" y1="1131.5625" y2="1131.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="1391" y="1141.7729">[l1_read is WITHDRAWAL]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1166.5" y2="1166.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1166.5" y2="1179.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1179.5" y2="1179.5"/><polygon fill="#181818" points="1784.5,1175.5,1774.5,1179.5,1784.5,1183.5,1780.5,1179.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1780.5" y="1161.4341">Withdrawal validations (balance,token existence,...)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1208.6328" y2="1208.6328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1208.6328" y2="1221.6328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1221.6328" y2="1221.6328"/><polygon fill="#181818" points="1784.5,1217.6328,1774.5,1221.6328,1784.5,1225.6328,1780.5,1221.6328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1780.5" y="1203.5669">Burn token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1386" x2="2209.5" y1="1230.6328" y2="1230.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1391" y="1240.8433">[l1_read is DELETE_PENDING_UPDATES]</text><path d="M1488,1249.4375 L1488,1274.4375 L2059,1274.4375 L2059,1259.4375 L2049,1249.4375 L1488,1249.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2049,1249.4375 L2049,1259.4375 L2059,1259.4375 L2049,1249.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="550" x="1494" y="1266.5044">This action is triggered from Gasp contract when dep/with is confirmed by the updater.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1300.7031" y2="1300.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1300.7031" y2="1313.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1313.7031" y2="1313.7031"/><polygon fill="#181818" points="1784.5,1309.7031,1774.5,1313.7031,1784.5,1317.7031,1780.5,1313.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1780.5" y="1295.6372">Deletes all processed pending updates</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1386" x2="2209.5" y1="1322.7031" y2="1322.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="213" x="1391" y="1332.9136">[l1_read is CANCEL_RESOLUTION]</text><path d="M1396,1341.5078 L1396,1366.5078 L2151,1366.5078 L2151,1351.5078 L2141,1341.5078 L1396,1341.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2141,1341.5078 L2141,1351.5078 L2151,1351.5078 L2141,1341.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="734" x="1402" y="1358.5747">This action is triggered from Gasp contract when cancelation is resolved. It will be resolved by comparing the reads.</text><path d="M1709.5,1378.6406 L1773.5,1378.6406 L1773.5,1385.7734 L1763.5,1395.7734 L1709.5,1395.7734 L1709.5,1378.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="490" x="1709.5" y="1378.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1724.5" y="1391.7075">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="289" x="1788.5" y="1390.8511">[CANCEL_RESOLUTION is CANCEL_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1416.9063" y2="1416.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1416.9063" y2="1429.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1429.9063" y2="1429.9063"/><polygon fill="#181818" points="1784.5,1425.9063,1774.5,1429.9063,1784.5,1433.9063,1780.5,1429.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360" x="1780.5" y="1411.8403">Find malicious l1_read in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1459.0391" y2="1459.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1459.0391" y2="1472.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1472.0391" y2="1472.0391"/><polygon fill="#181818" points="1784.5,1468.0391,1774.5,1472.0391,1784.5,1476.0391,1780.5,1472.0391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="1780.5" y="1453.9731">Call slash_sequencer(seq_address)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1709.5" x2="2199.5" y1="1481.0391" y2="1481.0391"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="322" x="1714.5" y="1491.2495">[CANCEL_RESOLUTION is CANCEL_NOT_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1515.9766" y2="1515.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1515.9766" y2="1528.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1528.9766" y2="1528.9766"/><polygon fill="#181818" points="1784.5,1524.9766,1774.5,1528.9766,1784.5,1532.9766,1780.5,1528.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="1780.5" y="1510.9106">Find malicious cancel request in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1558.1094" y2="1558.1094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1558.1094" y2="1571.1094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1571.1094" y2="1571.1094"/><polygon fill="#181818" points="1784.5,1567.1094,1774.5,1571.1094,1784.5,1575.1094,1780.5,1571.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="1780.5" y="1553.0435">Call slash_sequencer(seq_address)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1386" x2="2209.5" y1="1587.1094" y2="1587.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203" x="1391" y="1597.3198">[l1_read is ONLY_INFO_UPDATE]</text><path d="M1509,1605.9141 L1509,1630.9141 L2037,1630.9141 L2037,1615.9141 L2027,1605.9141 L1509,1605.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2027,1605.9141 L2027,1615.9141 L2037,1615.9141 L2027,1605.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1515" y="1622.981">We dont need to do any action, it serves as information event for our contracts.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1664.1797" y2="1664.1797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1664.1797" y2="1677.1797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1677.1797" y2="1677.1797"/><polygon fill="#181818" points="1784.5,1673.1797,1774.5,1677.1797,1784.5,1681.1797,1780.5,1677.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506" x="1780.5" y="1659.1138">Prepare batches of pending updates based on update_batch_size configuration</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1706.3125" y2="1706.3125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1706.3125" y2="1719.3125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1719.3125" y2="1719.3125"/><polygon fill="#181818" points="1784.5,1715.3125,1774.5,1719.3125,1784.5,1723.3125,1780.5,1719.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="614" x="1780.5" y="1701.2466">Prepare and store the Merkle Root of all the WITHDRAWAL and DEPOSIT of pending update batch</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1748.4453" y2="1748.4453"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1748.4453" y2="1761.4453"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1761.4453" y2="1761.4453"/><polygon fill="#181818" points="1784.5,1757.4453,1774.5,1761.4453,1784.5,1765.4453,1780.5,1761.4453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="1780.5" y="1743.3794">Store succesfull WITHDRAWAL or DEPOSIT to pending_updates</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1773.5" x2="1815.5" y1="1790.5781" y2="1790.5781"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1815.5" x2="1815.5" y1="1790.5781" y2="1803.5781"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1774.5" x2="1815.5" y1="1803.5781" y2="1803.5781"/><polygon fill="#181818" points="1784.5,1799.5781,1774.5,1803.5781,1784.5,1807.5781,1780.5,1803.5781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="1780.5" y="1785.5122">Returns back the READ right for sequencer (node storage update)</text><polygon fill="#181818" points="1784.5,1849.7109,1774.5,1853.7109,1784.5,1857.7109,1780.5,1853.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1778.5" x2="2548" y1="1853.7109" y2="1853.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="1790.5" y="1848.645">Reads that new N block(s) was produced by some collator</text><polygon fill="#181818" points="2794,1878.8438,2804,1882.8438,2794,1886.8438,2798,1882.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2549" x2="2800" y1="1882.8438" y2="1882.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="2556" y="1877.7778">Submits task: "Finalize GASP blocks"</text><polygon fill="#181818" points="1784.5,1907.9766,1774.5,1911.9766,1784.5,1915.9766,1780.5,1911.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1778.5" x2="2805" y1="1911.9766" y2="1911.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440" x="1790.5" y="1906.9106">Reads pending_updates hashes and Merkel Root of pending_updates</text><path d="M2630,1924.9766 L2630,1949.9766 L2981,1949.9766 L2981,1934.9766 L2971,1924.9766 L2630,1924.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2971,1924.9766 L2971,1934.9766 L2981,1934.9766 L2971,1924.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="2636" y="1942.0435">We need an option to switch off the block validation.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2806" x2="2848" y1="1976.2422" y2="1976.2422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2848" x2="2848" y1="1976.2422" y2="1989.2422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2807" x2="2848" y1="1989.2422" y2="1989.2422"/><polygon fill="#181818" points="2817,1985.2422,2807,1989.2422,2817,1993.2422,2813,1989.2422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426" x="2813" y="1971.1763">Validates N blocks and do storage proof - N should be configurable</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2806" x2="2848" y1="2018.375" y2="2018.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2848" x2="2848" y1="2018.375" y2="2031.375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2807" x2="2848" y1="2031.375" y2="2031.375"/><polygon fill="#181818" points="2817,2027.375,2807,2031.375,2817,2035.375,2813,2031.375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="411" x="2813" y="2013.3091">(optional) Validate that pending_updates are part of Merkel Root</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2806" x2="2848" y1="2060.5078" y2="2060.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2848" x2="2848" y1="2060.5078" y2="2073.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2807" x2="2848" y1="2073.5078" y2="2073.5078"/><polygon fill="#181818" points="2817,2069.5078,2807,2073.5078,2817,2077.5078,2813,2073.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="2813" y="2055.4419">Prepare the Merkel Root of pending_updates as task response</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2806" x2="2848" y1="2102.6406" y2="2102.6406"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2848" x2="2848" y1="2102.6406" y2="2115.6406"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2807" x2="2848" y1="2115.6406" y2="2115.6406"/><polygon fill="#181818" points="2817,2111.6406,2807,2115.6406,2817,2119.6406,2813,2115.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="2813" y="2097.5747">Sign the response with operator PK</text><polygon fill="#181818" points="2560,2140.7734,2550,2144.7734,2560,2148.7734,2556,2144.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2554" x2="2805" y1="2144.7734" y2="2144.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2566" y="2139.7075">Returns finished task</text><polygon fill="#181818" points="3234,2169.9063,3244,2173.9063,3234,2177.9063,3238,2173.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2549" x2="3240" y1="2173.9063" y2="2173.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="2556" y="2168.8403">Submits TX with Merkel Root information</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3246" x2="3288" y1="2203.0391" y2="2203.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3288" x2="3288" y1="2203.0391" y2="2216.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3247" x2="3288" y1="2216.0391" y2="2216.0391"/><polygon fill="#181818" points="3257,2212.0391,3247,2216.0391,3257,2220.0391,3253,2216.0391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="3253" y="2197.9731">Stores Merkel Root information with batch identifier</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3246" x2="3288" y1="2245.1719" y2="2245.1719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3288" x2="3288" y1="2245.1719" y2="2258.1719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3247" x2="3288" y1="2258.1719" y2="2258.1719"/><polygon fill="#181818" points="3257,2254.1719,3247,2258.1719,3257,2262.1719,3253,2258.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="3253" y="2240.106">Stores pending_updates hashes in a key-value storage</text><polygon fill="#181818" points="1784.5,2283.3047,1774.5,2287.3047,1784.5,2291.3047,1780.5,2287.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1778.5" x2="2400.5" y1="2287.3047" y2="2287.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="1790.5" y="2282.2388">(Subscription) Checks weather my collator just built block</text><polygon fill="#181818" points="3234,2312.4375,3244,2316.4375,3234,2320.4375,3238,2316.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2401.5" x2="3240" y1="2316.4375" y2="2316.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="2408.5" y="2311.3716">Subscribed for block finalisation</text><polygon fill="#181818" points="3234,2341.5703,3244,2345.5703,3234,2349.5703,3238,2345.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2401.5" x2="3240" y1="2345.5703" y2="2345.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2408.5" y="2340.5044">Fetch the eygen layer Merkel root</text><polygon fill="#181818" points="1784.5,2370.7031,1774.5,2374.7031,1784.5,2378.7031,1780.5,2374.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1778.5" x2="2400.5" y1="2374.7031" y2="2374.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1790.5" y="2369.6372">Read all batched penfing_updates?</text><polygon fill="#181818" points="341.5,2399.8359,331.5,2403.8359,341.5,2407.8359,337.5,2403.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335.5" x2="2400.5" y1="2403.8359" y2="2403.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="485" x="347.5" y="2398.77">Executes TX on ETH with all pending_updates alongside with the Merkel Root</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330.5" x2="372.5" y1="2432.9688" y2="2432.9688"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372.5" x2="372.5" y1="2432.9688" y2="2445.9688"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331.5" x2="372.5" y1="2445.9688" y2="2445.9688"/><polygon fill="#181818" points="341.5,2441.9688,331.5,2445.9688,341.5,2449.9688,337.5,2445.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="337.5" y="2427.9028">Validates the updates are part of the submited Merkel Root</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330.5" x2="372.5" y1="2475.1016" y2="2475.1016"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372.5" x2="372.5" y1="2475.1016" y2="2488.1016"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331.5" x2="372.5" y1="2488.1016" y2="2488.1016"/><polygon fill="#181818" points="341.5,2484.1016,331.5,2488.1016,341.5,2492.1016,337.5,2488.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="337.5" y="2470.0356">Updates storages of token values for users</text><path d="M278,2501.1016 L278,2526.1016 L383,2526.1016 L383,2511.1016 L373,2501.1016 L278,2501.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M373,2501.1016 L373,2511.1016 L383,2511.1016 L373,2501.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="284" y="2518.1685">Ferries TODO</text><path d="M10,2538.2344 L74,2538.2344 L74,2545.3672 L64,2555.3672 L10,2555.3672 L10,2538.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="403" x="10" y="2538.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="2551.3013">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="89" y="2550.4448">[pending_update is DEPOSIT]</text><polygon fill="#181818" points="318.5,2572.5,328.5,2576.5,318.5,2580.5,322.5,2576.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="324.5" y1="2576.5" y2="2576.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="99.5" y="2571.4341">Close deposit</text><polygon fill="#181818" points="318.5,2601.6328,328.5,2605.6328,318.5,2609.6328,322.5,2605.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="324.5" y1="2605.6328" y2="2605.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="99.5" y="2600.5669">Locks amount to the contract ???</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="413" y1="2614.6328" y2="2614.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="15" y="2624.8433">[l1_read is WITHDRAWAL]</text><polygon fill="#181818" points="318.5,2645.5703,328.5,2649.5703,318.5,2653.5703,322.5,2649.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="324.5" y1="2649.5703" y2="2649.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="99.5" y="2644.5044">Close withdrawal</text><polygon fill="#181818" points="318.5,2674.7031,328.5,2678.7031,318.5,2682.7031,322.5,2678.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="324.5" y1="2678.7031" y2="2678.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="99.5" y="2673.6372">Sends funds to user address</text><!--SRC=[lLZTS-8s47_tNx53PpfaUg6zFkQX6GvyTvcIG85SsYT6sCAe68jASZZwrtTNahy0GwPpBG-0hTL-xszNOf6H2jod4yu_moCtRClq1furLns_mZJa-1W4EwQCYCIEPGOwdvZU0UqPoCme5fcE8qtmVUHV1S5IVeNE1xc4MuZpcCD-BK7bcGQxVI3Jb94AFy2C_vNpBEAAUCYC0qfy5H7lm7SZaQpDXpJdJGMg7LqKSEF5w-9jaxYKv6cHClAl0fx5W7gUi-zv5pD3dY0VkFz7PA58U0RzHF74ylyUve-Md1MlWe0aySW8YNOxlXz5nbBnD-dU_p9p-iWTLvQ-GUxur_silQMSLYfFKuZWzlQNHW3kOAv4ak1Ap7TI2mDo1U_XXVWPkK7EGL2dFyDWiERHHeDOGJWT_FoJtyQ_2cqeK63M739kzb9jdANM3SIdUBY31mEYShXsGG2fObJCIDWf6USH1mRBL4ORO1WGvFfdhasn5eD06ylW7l7lplAbZfJOaTDk2fNtdA5o2hQ7ajJnNEOYDKvMAqlFWwmhIHQunhLPe4uHrvh7YqhV2qJeo4mp6z25YDkj-CXDj8P9-3HyUFgqc8Q_FOUp-GowYhDOtmG1f5BkO8LMS7QEaEW22A39lndDXADBCU55bbXw3Kk6Eb8WKwRD19LsMa-9YJRZRFJUsaUhVLpRcSRQgRpowGvDssAjyFEQMgvrLM2bvDPcUg5k3s68LjTCh_7t7MOCB0y64qKfTe1NXfZGGxzGFM10pul1n7iQpq6pBNVGqX0HE8Xh2mdcrHQBPi1mBKL-rcvCVgD4faLaT_DKSoeFIXMhaeOjmqXwrW2PH9NbApAlm0dApmk769N16i8mO3744Zrp09SllPAGG8eO1Vw174y_mQLeJwsVqzIQZ0ZmurwOTHNngudzzgI-ua3SzofYlaZVBsnGo8CziDgGUYlAVDIfhcOhc6Zy9iZPEs-3o0X2N28L0hJZ7Gkzoz7vYAn2nj1rLcNvTiaL5bIYPBx3peD9oYYhh3NacAfRRDbXYLrBe99R3245I1VqpuyZgigZilIGO2Ww2w_0mYc0j3PypGrUPRjIVT6dnG5Vi7LGAxAWN7N1DKFzU2RpP0qpmpPEMUl_Qnodd8npQ3SD-qDGr79TGLQHxMOIEpYvdoNSjyERkiPKX4M4iUo6uMGyUvZNShr5_D3r9aq19Sjiv-ikMKfbzwxNwztKU90GoXCMnmfJ4ORZSERRKOsgLPO3MTk4iIAr3VZACoH-DHwsiEkYOiaTcBnTt02TGP6YT7MuWv1en3BbJWVFkYurYyzOsyUYCmX02GfMXszaTDNFlx7LKwidfWoPpPgg4-pdX9YcnUWMdezOvtxueDAn4sbDurhUlJpCFm-d_PV-w1hF5mI9MB4zIy-dNctMuIUfsCBpGwwoj-av34VXF5mKRUjvCkpFmrdbbQflbADgvR7v6ZbunC9_nervt7TH6-fogDklKPaI_kqabgs4sYBryc2Bti-sBUtcOkccdFARKBni3cLRTsnrY_s3_jCW766xder7p_E7yLFmtrWUsUxDYWsOr39zvN6FnbABx8ZmnKjoY1jRI7zoZMqd5nn35NfYISsy_cGo7Ny9XzTX40y5COuEAPujPAuhJsM05YF5mJMrsadf13pQK8Z2et64MozAEE_YluNdK2MrZT4bSn08_hr9KNEE-dyjAo6c9Ht7JwC_5WzF7yU-4j-MZHV7jtU8SlOWInM2xJf3HDYwHEIl77SHGiXSbGbxAT62fXtNAdEYk1s-bpIBedm4_AEoh0P1zs9XIHSQpwKE8P9SMMNVAigUW-nqHeNpoDK6sznKIdlgf43HwmgTBRqV4axLSufV4pspudHEfvPLZY9gx96uu5wR49kOTA656GHoyX5ESyTpaLHl7ujgyGhSantRo-k14xaqlPerCxPvFhbvigjlO8yPL9w64QQqtF8g8vlyYhk4OW17Zanlxg1JN3p0f_viudZhJb2GdzNbo77sD4RvZC6Z46Cz5o4-Td5LEENTXYqOMoiCPn1xNhTZAjO_JYXovOvHReQkMd8lAAkXeMfbPZKJUuyv1R4QYy2Wwr35MrpNQvcdCQ5-cUKuZxLnxZejMNfJ2d7XEVOBLG1T3P4dQevfuriKJL4gxNuawA3mKPFQuNpIgkfC99dlMOxGmMf9FVcrkRFCcIhTLo8JcevY9F0egHeNJbLcpNztOkf6r90kQ6mxouXgMBVj1tzcfVp08sHcn4hWIFLMhYtPYws7mOOVRjqPqYT94FX1wDlTBzKPdZgGc2vfTA6R3PlqArkWshdkmcOtqbEm-O5k25DsG4BlGqLvTzwKyah0zGKxgwrg3hflx6jU9uHVUPIJ4p7a_XwbFCAVv6mgiqIBsEVWKPPVlNMiwhaQJvibPc_cR0ho1X1Tu_piUVcGsyRendL_ULDCxJge0LZZLXlG-qe9SiHuEAwmAQ1PiEc8vZcuvOvsa4giLNz3squsSh2sbRaz2LaFb8RUtzy75mz25sNlouDGE-KC3KFlvFIDqYrLCQVXqZy0]--></g></svg>