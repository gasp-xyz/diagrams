<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2970px" preserveAspectRatio="none" style="width:3880px;height:2970px;background:#FFFFFF;" version="1.1" viewBox="0 0 3880 2970" width="3880px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="2958.9297" style="stroke:#181818;stroke-width:0.5;" width="837" x="1263.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="469" x="1447.5" y="18.0669">Bob - dude who runs Gasp Collator + Sequencer as one service</text><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1599.5" x="517" y="299.0938"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="893.5" x="1213" y="394.4922"/><rect fill="none" height="1278.8828" style="stroke:#000000;stroke-width:1.5;" width="1070.5" x="1625" y="612.0938"/><rect fill="none" height="1247.75" style="stroke:#000000;stroke-width:1.5;" width="1050.5" x="1635" y="636.2266"/><rect fill="none" height="1216.6172" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="1645" y="660.3594"/><rect fill="none" height="867.2891" style="stroke:#000000;stroke-width:1.5;" width="823.5" x="1655" y="768.7578"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="358" x="1978.5" y="835.0234"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="322" x="1978.5" y="965.2266"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="490" x="1978.5" y="1378.6406"/><rect fill="none" height="349.2656" style="stroke:#000000;stroke-width:1.5;" width="3595" x="10" y="2519.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="92" x2="92" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="599" x2="599" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1333.5" x2="1333.5" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2042.5" x2="2042.5" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2670" x2="2670" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2818" x2="2818" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3074.5" x2="3074.5" y1="81.2969" y2="2885.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3515" x2="3515" y1="81.2969" y2="2885.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="20" y="77.9951">ETH Metamask User</text><ellipse cx="92.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M92.5,21.5 L92.5,48.5 M79.5,29.5 L105.5,29.5 M92.5,48.5 L79.5,63.5 M92.5,48.5 L105.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="20" y="2897.6279">ETH Metamask User</text><ellipse cx="92.5" cy="2909.4297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M92.5,2917.4297 L92.5,2944.4297 M79.5,2925.4297 L105.5,2925.4297 M92.5,2944.4297 L79.5,2959.4297 M92.5,2944.4297 L105.5,2959.4297 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="527" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="534" y="69.9951">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="527" y="2884.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="534" y="2904.6279">Gasp ETH Contract</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1267.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1274.5" y="69.9951">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1267.5" y="2884.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1274.5" y="2904.6279">Sequencer (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1988.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1995.5" y="69.9951">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1988.5" y="2884.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1995.5" y="2904.6279">Collator (Bob)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2616" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2623" y="69.9951">Gasp Updater</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2616" y="2884.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2623" y="2904.6279">Gasp Updater</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="2735" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2742" y="69.9951">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="2735" y="2884.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2742" y="2904.6279">Eigen Agregator &amp; TM</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="3001.5" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2997.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="3004.5" y="69.9951">Gasp Finalizer (AVS)</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="3001.5" y="2884.6328"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="151" x="2997.5" y="2888.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="3004.5" y="2908.6279">Gasp Finalizer (AVS)</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3439" y="46"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3435" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="3442" y="69.9951">Eigen ETH Contracts</text><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3439" y="2884.6328"/><rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="156" x="3435" y="2888.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="3442" y="2908.6279">Eigen ETH Contracts</text><polygon fill="#181818" points="587.5,108.4297,597.5,112.4297,587.5,116.4297,591.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="593.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="99.5" y="107.3638">Trigger deposit of 1 WETH token</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599.5" x2="641.5" y1="141.5625" y2="141.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="641.5" x2="641.5" y1="141.5625" y2="154.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="600.5" x2="641.5" y1="154.5625" y2="154.5625"/><polygon fill="#181818" points="610.5,150.5625,600.5,154.5625,610.5,158.5625,606.5,154.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="606.5" y="136.4966">Checks if ERC20 token exists on the network</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="183.6953" y2="183.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="183.6953" y2="196.6953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="196.6953" y2="196.6953"/><polygon fill="#181818" points="2053.5,192.6953,2043.5,196.6953,2053.5,200.6953,2049.5,196.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="2049.5" y="178.6294">It is collators (Bob) order to produce a block and he just produced it</text><polygon fill="#181818" points="2030.5,221.8281,2040.5,225.8281,2030.5,229.8281,2034.5,225.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="2036.5" y1="225.8281" y2="225.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="1340.5" y="220.7622">(Subscription) Checks weather my collator just built block</text><polygon fill="#181818" points="2030.5,250.9609,2040.5,254.9609,2030.5,258.9609,2034.5,254.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="2036.5" y1="254.9609" y2="254.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="610" x="1340.5" y="249.895">Checks the sequencer_latest_processed_block and sequencer_latest_processed_transaction_id</text><polygon fill="#181818" points="2030.5,280.0938,2040.5,284.0938,2030.5,288.0938,2034.5,284.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="2036.5" y1="284.0938" y2="284.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1340.5" y="279.0278">Fetch PENDING_REQUESTS (reads)</text><path d="M517,299.0938 L594,299.0938 L594,306.2266 L584,316.2266 L517,316.2266 L517,299.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="198.6016" style="stroke:#000000;stroke-width:1.5;" width="1599.5" x="517" y="299.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="532" y="312.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="229" x="609" y="311.3042">[for each PENDING_REQUESTS read]</text><polygon fill="#181818" points="610.5,333.3594,600.5,337.3594,610.5,341.3594,606.5,337.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="1332.5" y1="337.3594" y2="337.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564" x="616.5" y="332.2935">get pending reads based on lastProccessedRequestOnL1 and lastAcceptedRequestOnL1</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="1375.5" y1="366.4922" y2="366.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1375.5" x2="1375.5" y1="366.4922" y2="379.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1334.5" x2="1375.5" y1="379.4922" y2="379.4922"/><polygon fill="#181818" points="1344.5,375.4922,1334.5,379.4922,1344.5,383.4922,1340.5,379.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="695" x="1340.5" y="361.4263">compare PENDING_REQUESTS read and pending read from ETH contract. Using hashing, or byte array value.</text><path d="M1213,394.4922 L1277,394.4922 L1277,401.625 L1267,411.625 L1213,411.625 L1213,394.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.2031" style="stroke:#000000;stroke-width:1.5;" width="893.5" x="1213" y="394.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1228" y="407.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="381" x="1292" y="406.7026">[PENDING_REQUESTS read is NOT same as on ETH contract]</text><polygon fill="#181818" points="2030.5,428.7578,2040.5,432.7578,2030.5,436.7578,2034.5,432.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="2036.5" y1="432.7578" y2="432.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="1340.5" y="427.6919">Submit Cancel request extrinsic</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1213" x2="2106.5" y1="441.7578" y2="441.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="1218" y="451.9683">[if the values match]</text><path d="M1223,460.5625 L1223,485.5625 L1443,485.5625 L1443,470.5625 L1433,460.5625 L1223,460.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1433,460.5625 L1433,470.5625 L1443,470.5625 L1433,460.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1229" y="477.6294">We dont need to do any action.</text><polygon fill="#181818" points="610.5,521.8281,600.5,525.8281,610.5,529.8281,606.5,525.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="1332.5" y1="525.8281" y2="525.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="710" x="616.5" y="520.7622">Read all ETH dep/with based on sequencer_latest_processed_block sequencer_latest_processed_transaction_id</text><polygon fill="#181818" points="2030.5,550.9609,2040.5,554.9609,2030.5,558.9609,2034.5,554.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="2036.5" y1="554.9609" y2="554.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="1340.5" y="549.895">Submit provide_l1_read extr. with all fetched ETH dep/with</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="584.0938" y2="584.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="584.0938" y2="597.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="597.0938" y2="597.0938"/><polygon fill="#181818" points="2053.5,593.0938,2043.5,597.0938,2053.5,601.0938,2049.5,597.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="469" x="2049.5" y="579.0278">store new value into pending_l1_reads with dispute period (block number)</text><path d="M1625,612.0938 L2140,612.0938 L2140,619.2266 L2130,629.2266 L1625,629.2266 L1625,612.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1278.8828" style="stroke:#000000;stroke-width:1.5;" width="1070.5" x="1625" y="612.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="470" x="1640" y="625.1606">Separate action on Collator (maybe will move to separate UML)</text><path d="M1635,636.2266 L1712,636.2266 L1712,643.3594 L1702,653.3594 L1635,653.3594 L1635,636.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1247.75" style="stroke:#000000;stroke-width:1.5;" width="1050.5" x="1635" y="636.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1650" y="649.2935">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="247" x="1727" y="648.437">[for each block at end_dispute_period]</text><path d="M1645,660.3594 L1722,660.3594 L1722,667.4922 L1712,677.4922 L1645,677.4922 L1645,660.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1216.6172" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="1645" y="660.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1660" y="673.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1737" y="672.5698">[for each l1_read]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="698.625" y2="698.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="698.625" y2="711.625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="711.625" y2="711.625"/><polygon fill="#181818" points="2053.5,707.625,2043.5,711.625,2053.5,715.625,2049.5,711.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="2049.5" y="693.5591">Validates if Sequencer have enough Stake to submit</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="740.7578" y2="740.7578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="740.7578" y2="753.7578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="753.7578" y2="753.7578"/><polygon fill="#181818" points="2053.5,749.7578,2043.5,753.7578,2053.5,757.7578,2049.5,753.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="2049.5" y="735.6919">Removes the READ right from sequencer (node storage update)</text><path d="M1655,768.7578 L1719,768.7578 L1719,775.8906 L1709,785.8906 L1655,785.8906 L1655,768.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="867.2891" style="stroke:#000000;stroke-width:1.5;" width="823.5" x="1655" y="768.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1670" y="781.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="1734" y="780.9683">[l1_read is DEPOSIT]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="807.0234" y2="807.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="807.0234" y2="820.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="820.0234" y2="820.0234"/><polygon fill="#181818" points="2053.5,816.0234,2043.5,820.0234,2053.5,824.0234,2049.5,820.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="2049.5" y="801.9575">Deposits validations (balance,...)</text><path d="M1978.5,835.0234 L2042.5,835.0234 L2042.5,842.1563 L2032.5,852.1563 L1978.5,852.1563 L1978.5,835.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="358" x="1978.5" y="835.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1993.5" y="848.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171" x="2057.5" y="847.2339">[ETH address DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="873.2891" y2="873.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="873.2891" y2="886.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="886.2891" y2="886.2891"/><polygon fill="#181818" points="2053.5,882.2891,2043.5,886.2891,2053.5,890.2891,2049.5,886.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2049.5" y="868.2231">Fetch Gasp version of ETH adress</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1978.5" x2="2336.5" y1="895.2891" y2="895.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1983.5" y="905.4995">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="930.2266" y2="930.2266"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="930.2266" y2="943.2266"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="943.2266" y2="943.2266"/><polygon fill="#181818" points="2053.5,939.2266,2043.5,943.2266,2053.5,947.2266,2049.5,943.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="2049.5" y="925.1606">Creates new ETH compatible Gasp address</text><path d="M1978.5,965.2266 L2042.5,965.2266 L2042.5,972.3594 L2032.5,982.3594 L1978.5,982.3594 L1978.5,965.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="322" x="1978.5" y="965.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1993.5" y="978.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="208" x="2057.5" y="977.437">[ETH Asset registry DOES exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1003.4922" y2="1003.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1003.4922" y2="1016.4922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1016.4922" y2="1016.4922"/><polygon fill="#181818" points="2053.5,1012.4922,2043.5,1016.4922,2053.5,1020.4922,2049.5,1016.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="2049.5" y="998.4263">Fetch Gasp version of ERC20 token</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1978.5" x2="2300.5" y1="1025.4922" y2="1025.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="1983.5" y="1035.7026">[ETH address does NOT exists]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1060.4297" y2="1060.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1060.4297" y2="1073.4297"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1073.4297" y2="1073.4297"/><polygon fill="#181818" points="2053.5,1069.4297,2043.5,1073.4297,2053.5,1077.4297,2049.5,1073.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="2049.5" y="1055.3638">Register new asset registry and use it</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1109.5625" y2="1109.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1109.5625" y2="1122.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1122.5625" y2="1122.5625"/><polygon fill="#181818" points="2053.5,1118.5625,2043.5,1122.5625,2053.5,1126.5625,2049.5,1122.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="2049.5" y="1104.4966">Mint token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1655" x2="2478.5" y1="1131.5625" y2="1131.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="1660" y="1141.7729">[l1_read is WITHDRAWAL]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1166.5" y2="1166.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1166.5" y2="1179.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1179.5" y2="1179.5"/><polygon fill="#181818" points="2053.5,1175.5,2043.5,1179.5,2053.5,1183.5,2049.5,1179.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="2049.5" y="1161.4341">Withdrawal validations (balance,token existence,...)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1208.6328" y2="1208.6328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1208.6328" y2="1221.6328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1221.6328" y2="1221.6328"/><polygon fill="#181818" points="2053.5,1217.6328,2043.5,1221.6328,2053.5,1225.6328,2049.5,1221.6328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="2049.5" y="1203.5669">Burn token for user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1655" x2="2478.5" y1="1230.6328" y2="1230.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1660" y="1240.8433">[l1_read is DELETE_PENDING_UPDATES]</text><path d="M1757,1249.4375 L1757,1274.4375 L2328,1274.4375 L2328,1259.4375 L2318,1249.4375 L1757,1249.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2318,1249.4375 L2318,1259.4375 L2328,1259.4375 L2318,1249.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="550" x="1763" y="1266.5044">This action is triggered from Gasp contract when dep/with is confirmed by the updater.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1300.7031" y2="1300.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1300.7031" y2="1313.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1313.7031" y2="1313.7031"/><polygon fill="#181818" points="2053.5,1309.7031,2043.5,1313.7031,2053.5,1317.7031,2049.5,1313.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="2049.5" y="1295.6372">Deletes all processed pending updates</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1655" x2="2478.5" y1="1322.7031" y2="1322.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="213" x="1660" y="1332.9136">[l1_read is CANCEL_RESOLUTION]</text><path d="M1665,1341.5078 L1665,1366.5078 L2420,1366.5078 L2420,1351.5078 L2410,1341.5078 L1665,1341.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2410,1341.5078 L2410,1351.5078 L2420,1351.5078 L2410,1341.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="734" x="1671" y="1358.5747">This action is triggered from Gasp contract when cancelation is resolved. It will be resolved by comparing the reads.</text><path d="M1978.5,1378.6406 L2042.5,1378.6406 L2042.5,1385.7734 L2032.5,1395.7734 L1978.5,1395.7734 L1978.5,1378.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="200.4688" style="stroke:#000000;stroke-width:1.5;" width="490" x="1978.5" y="1378.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1993.5" y="1391.7075">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="289" x="2057.5" y="1390.8511">[CANCEL_RESOLUTION is CANCEL_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1416.9063" y2="1416.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1416.9063" y2="1429.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1429.9063" y2="1429.9063"/><polygon fill="#181818" points="2053.5,1425.9063,2043.5,1429.9063,2053.5,1433.9063,2049.5,1429.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360" x="2049.5" y="1411.8403">Find malicious l1_read in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1459.0391" y2="1459.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1459.0391" y2="1472.0391"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1472.0391" y2="1472.0391"/><polygon fill="#181818" points="2053.5,1468.0391,2043.5,1472.0391,2053.5,1476.0391,2049.5,1472.0391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2049.5" y="1453.9731">Call slash_sequencer(seq_address)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1978.5" x2="2468.5" y1="1481.0391" y2="1481.0391"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="322" x="1983.5" y="1491.2495">[CANCEL_RESOLUTION is CANCEL_NOT_APPROVED]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1515.9766" y2="1515.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1515.9766" y2="1528.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1528.9766" y2="1528.9766"/><polygon fill="#181818" points="2053.5,1524.9766,2043.5,1528.9766,2053.5,1532.9766,2049.5,1528.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="2049.5" y="1510.9106">Find malicious cancel request in history with Sequencer address</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1558.1094" y2="1558.1094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1558.1094" y2="1571.1094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1571.1094" y2="1571.1094"/><polygon fill="#181818" points="2053.5,1567.1094,2043.5,1571.1094,2053.5,1575.1094,2049.5,1571.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2049.5" y="1553.0435">Call slash_sequencer(seq_address)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1655" x2="2478.5" y1="1587.1094" y2="1587.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203" x="1660" y="1597.3198">[l1_read is ONLY_INFO_UPDATE]</text><path d="M1778,1605.9141 L1778,1630.9141 L2306,1630.9141 L2306,1615.9141 L2296,1605.9141 L1778,1605.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2296,1605.9141 L2296,1615.9141 L2306,1615.9141 L2296,1605.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1784" y="1622.981">We dont need to do any action, it serves as information event for our contracts.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1664.1797" y2="1664.1797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1664.1797" y2="1677.1797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1677.1797" y2="1677.1797"/><polygon fill="#181818" points="2053.5,1673.1797,2043.5,1677.1797,2053.5,1681.1797,2049.5,1677.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506" x="2049.5" y="1659.1138">Prepare batches of pending updates based on update_batch_size configuration</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1706.3125" y2="1706.3125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1706.3125" y2="1719.3125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1719.3125" y2="1719.3125"/><polygon fill="#181818" points="2053.5,1715.3125,2043.5,1719.3125,2053.5,1723.3125,2049.5,1719.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="614" x="2049.5" y="1701.2466">Prepare and store the Merkle Root of all the WITHDRAWAL and DEPOSIT of pending update batch</text><path d="M1782,1732.3125 L1782,1787.3125 L2302,1787.3125 L2302,1742.3125 L2292,1732.3125 L1782,1732.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2292,1732.3125 L2292,1742.3125 L2302,1742.3125 L2292,1732.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="1788" y="1749.3794">Pending updates should have identifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="499" x="1788" y="1764.5122">We need to have an API to fetch proofs based on the pending update identifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1788" y="1779.645">Our merkle leafs should be unique</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1813.8438" y2="1813.8438"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1813.8438" y2="1826.8438"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1826.8438" y2="1826.8438"/><polygon fill="#181818" points="2053.5,1822.8438,2043.5,1826.8438,2053.5,1830.8438,2049.5,1826.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="577" x="2049.5" y="1808.7778">Store succesfull WITHDRAWAL or DEPOSIT to pending_updates with Merkle Root and Proofs</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2042.5" x2="2084.5" y1="1855.9766" y2="1855.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2084.5" x2="2084.5" y1="1855.9766" y2="1868.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2043.5" x2="2084.5" y1="1868.9766" y2="1868.9766"/><polygon fill="#181818" points="2053.5,1864.9766,2043.5,1868.9766,2053.5,1872.9766,2049.5,1868.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="2049.5" y="1850.9106">Returns back the READ right for sequencer (node storage update)</text><polygon fill="#181818" points="2053.5,1915.1094,2043.5,1919.1094,2053.5,1923.1094,2049.5,1919.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2047.5" x2="2817" y1="1919.1094" y2="1919.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="2059.5" y="1914.0435">Reads that new N block(s) was produced by some collator</text><polygon fill="#181818" points="3063,1944.2422,3073,1948.2422,3063,1952.2422,3067,1948.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2818" x2="3069" y1="1948.2422" y2="1948.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="2825" y="1943.1763">Submits task: "Finalize GASP blocks"</text><polygon fill="#181818" points="2053.5,1973.375,2043.5,1977.375,2053.5,1981.375,2049.5,1977.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2047.5" x2="3074" y1="1977.375" y2="1977.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440" x="2059.5" y="1972.3091">Reads pending_updates hashes and Merkel Root of pending_updates</text><path d="M2899,1990.375 L2899,2015.375 L3250,2015.375 L3250,2000.375 L3240,1990.375 L2899,1990.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3240,1990.375 L3240,2000.375 L3250,2000.375 L3240,1990.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="2905" y="2007.4419">We need an option to switch off the block validation.</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3075" x2="3117" y1="2041.6406" y2="2041.6406"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3117" x2="3117" y1="2041.6406" y2="2054.6406"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3076" x2="3117" y1="2054.6406" y2="2054.6406"/><polygon fill="#181818" points="3086,2050.6406,3076,2054.6406,3086,2058.6406,3082,2054.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426" x="3082" y="2036.5747">Validates N blocks and do storage proof - N should be configurable</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3075" x2="3117" y1="2083.7734" y2="2083.7734"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3117" x2="3117" y1="2083.7734" y2="2096.7734"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3076" x2="3117" y1="2096.7734" y2="2096.7734"/><polygon fill="#181818" points="3086,2092.7734,3076,2096.7734,3086,2100.7734,3082,2096.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="3082" y="2078.7075">Prepare the Merkel Root of pending_updates as task response</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3075" x2="3117" y1="2125.9063" y2="2125.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3117" x2="3117" y1="2125.9063" y2="2138.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3076" x2="3117" y1="2138.9063" y2="2138.9063"/><polygon fill="#181818" points="3086,2134.9063,3076,2138.9063,3086,2142.9063,3082,2138.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="3082" y="2120.8403">Sign the response with operator PK</text><polygon fill="#181818" points="2829,2164.0391,2819,2168.0391,2829,2172.0391,2825,2168.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2823" x2="3074" y1="2168.0391" y2="2168.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2835" y="2162.9731">Returns finished task</text><polygon fill="#181818" points="3503,2193.1719,3513,2197.1719,3503,2201.1719,3507,2197.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2818" x2="3509" y1="2197.1719" y2="2197.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="2825" y="2192.106">Submits TX with Merkel Root information</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3515" x2="3557" y1="2226.3047" y2="2226.3047"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3557" x2="3557" y1="2226.3047" y2="2239.3047"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3516" x2="3557" y1="2239.3047" y2="2239.3047"/><polygon fill="#181818" points="3526,2235.3047,3516,2239.3047,3526,2243.3047,3522,2239.3047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="3522" y="2221.2388">Stores Merkel Root information with batch identifier</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3515" x2="3557" y1="2268.4375" y2="2268.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3557" x2="3557" y1="2268.4375" y2="2281.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3516" x2="3557" y1="2281.4375" y2="2281.4375"/><polygon fill="#181818" points="3526,2277.4375,3516,2281.4375,3526,2285.4375,3522,2281.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="3522" y="2263.3716">Stores pending_updates hashes in a key-value storage</text><polygon fill="#181818" points="2053.5,2306.5703,2043.5,2310.5703,2053.5,2314.5703,2049.5,2310.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2047.5" x2="2669.5" y1="2310.5703" y2="2310.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="2059.5" y="2305.5044">(Subscription) Checks weather my collator just built block</text><polygon fill="#181818" points="3503,2335.7031,3513,2339.7031,3503,2343.7031,3507,2339.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2670.5" x2="3509" y1="2339.7031" y2="2339.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="2677.5" y="2334.6372">Subscribed for block finalisation</text><polygon fill="#181818" points="3503,2364.8359,3513,2368.8359,3503,2372.8359,3507,2368.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2670.5" x2="3509" y1="2368.8359" y2="2368.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2677.5" y="2363.77">Fetch the eygen layer Merkel root</text><polygon fill="#181818" points="2053.5,2393.9688,2043.5,2397.9688,2053.5,2401.9688,2049.5,2397.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2047.5" x2="2669.5" y1="2397.9688" y2="2397.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="2059.5" y="2392.9028">Read all batched penfing_updates?</text><polygon fill="#181818" points="610.5,2423.1016,600.5,2427.1016,610.5,2431.1016,606.5,2427.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="2669.5" y1="2427.1016" y2="2427.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="584" x="616.5" y="2422.0356">Executes TX on ETH with the Merkel Root coresponding with pending_update batch identifier</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599.5" x2="641.5" y1="2456.2344" y2="2456.2344"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="641.5" x2="641.5" y1="2456.2344" y2="2469.2344"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="600.5" x2="641.5" y1="2469.2344" y2="2469.2344"/><polygon fill="#181818" points="610.5,2465.2344,600.5,2469.2344,610.5,2473.2344,606.5,2469.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="606.5" y="2451.1685">Stores Merkel Root with pending_update batch identifier</text><path d="M547,2482.2344 L547,2507.2344 L652,2507.2344 L652,2492.2344 L642,2482.2344 L547,2482.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M642,2482.2344 L642,2492.2344 L652,2492.2344 L642,2482.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="553" y="2499.3013">Ferries TODO</text><path d="M10,2519.3672 L74,2519.3672 L74,2526.5 L64,2536.5 L10,2536.5 L10,2519.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="349.2656" style="stroke:#000000;stroke-width:1.5;" width="3595" x="10" y="2519.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="2532.4341">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="89" y="2531.5776">[pending_update is DEPOSIT]</text><polygon fill="#181818" points="2030.5,2553.6328,2040.5,2557.6328,2030.5,2561.6328,2034.5,2557.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="2036.5" y1="2557.6328" y2="2557.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="99.5" y="2552.5669">Get the pending update.</text><polygon fill="#181818" points="3503,2582.7656,3513,2586.7656,3503,2590.7656,3507,2586.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="3509" y1="2586.7656" y2="2586.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="99.5" y="2581.6997">Get the proofs of pending_update</text><polygon fill="#181818" points="587.5,2611.8984,597.5,2615.8984,587.5,2619.8984,591.5,2615.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="593.5" y1="2615.8984" y2="2615.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="464" x="99.5" y="2610.8325">Close deposit (bringing pending_update + signed proof from Eigen layer)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599.5" x2="641.5" y1="2645.0313" y2="2645.0313"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="641.5" x2="641.5" y1="2645.0313" y2="2658.0313"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="600.5" x2="641.5" y1="2658.0313" y2="2658.0313"/><polygon fill="#181818" points="610.5,2654.0313,600.5,2658.0313,610.5,2662.0313,606.5,2658.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="606.5" y="2639.9653">Validate the proofs</text><polygon fill="#181818" points="103.5,2683.1641,93.5,2687.1641,103.5,2691.1641,99.5,2687.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97.5" x2="598.5" y1="2687.1641" y2="2687.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="109.5" y="2682.0981">Locks amount to the contract.</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="3605" y1="2696.1641" y2="2696.1641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="15" y="2706.3745">[l1_read is WITHDRAWAL]</text><polygon fill="#181818" points="2030.5,2727.1016,2040.5,2731.1016,2030.5,2735.1016,2034.5,2731.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="2036.5" y1="2731.1016" y2="2731.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="99.5" y="2726.0356">Get the pending update.</text><polygon fill="#181818" points="3503,2756.2344,3513,2760.2344,3503,2764.2344,3507,2760.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="3509" y1="2760.2344" y2="2760.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="99.5" y="2755.1685">Get the proofs of pending_update</text><polygon fill="#181818" points="587.5,2785.3672,597.5,2789.3672,587.5,2793.3672,591.5,2789.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="593.5" y1="2789.3672" y2="2789.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="483" x="99.5" y="2784.3013">Close withdrawal (bringing pending_update + signed proof from Eigen layer)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599.5" x2="641.5" y1="2818.5" y2="2818.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="641.5" x2="641.5" y1="2818.5" y2="2831.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="600.5" x2="641.5" y1="2831.5" y2="2831.5"/><polygon fill="#181818" points="610.5,2827.5,600.5,2831.5,610.5,2835.5,606.5,2831.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="606.5" y="2813.4341">Validate the proofs</text><polygon fill="#181818" points="103.5,2856.6328,93.5,2860.6328,103.5,2864.6328,99.5,2860.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97.5" x2="598.5" y1="2860.6328" y2="2860.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="109.5" y="2855.5669">Sends funds to user address</text><!--SRC=[pLXHa-8s37xFhz3GcGuxTqjxVTo7TZZWhZjbWG9xspun9Z7W4c9gEylHNr_9Jk8a4A2TQ-VsWOL4bgLFqYVPB3HIWVjh3UO_mnCtRCVq5furLwti3TEGuiyWs3DbH2ZsB37G-iZq7cXDJoP6iT2qdEWQduVPeo1Ooi_GUY-NS0zH6d4uR2IeDD5Wb_Ta73CouGtC-9yfJqAkI8TCEE2EhoBaBVXcADORypvEUTK0lwAD6znbs-lyQLMus2cJHSamUnJm90Aqyvn_p_k86KA2C73VQs83iUO9TDUAhwt-Rs7-PCLP_YW8Q2SU6Y7HRwVtWqXOBFuYsxkVPiuUkUVAobV4dVuopZhpbDCRZpI52ExlVwm4u07cIgpN-2RYUwc50Rc2T_12-epSekOWACkVKT3Ry72hGQnWCEtzy7ssZ7yMsb2Wm6mu9DmSfDewJoqCf2V_yG2F1eG7NBiWW5GH6cOax9MCqf03WsKimoqm30Xg_IFL9dyNWK0VY-3MzBTdwLA7Ikm9jBlSv0DdQ9o2tR4GTJgNgOYDswjHPQQ3l2j45lYEQxD0cqAkDOyMtjuBGWXaefaDw494pLvyu2RSm6GmwZ-EFYwcWr-V1xFv3DgAiqZV1G74KkvXXLvmTawGv088eAg_6iqrHqWnuKMojl8QbWnjf436J9i96ksidf8IRSR9y9trZzvsyTtULDwTxbVyUa3NTbWh_BobLclP55WfkREPdflRGHgYjnkcD_Z_BMOCB8y64qKfTeHNXfpGGLoe7Z2WvxV1n1kDvw3PZZjggMmHE8fh2WdcrGwBfiVmNOpwhD-O_4Q9H8lGhkQnvbGUb2hM90qxXf7CL0Ca4asMhwZSanCKVoyS8ZG6QmZ3WCKGIKJc22vVEeKWaHGf2h8V13pz2ov5UsfnZcFhCZB0TmTXDZxYLnFxzgI-0Y2kUnKHNyJl5ZOeX607h3Lateeo7sqgczb89Xe_YN8E3cqG2L68IwHy0-rqHqBlKmGVcLN82DhEgoJTBRd2WbehcUwnys2ICiegwmq1uxl5ZXsNsBK46hd345A0T2x__3IaggoLPKO9XgApo0nOE0DGreQlkY0psRxn7_JN0C0dR1tKYYmf-owuOMWVJsIwti3CiAqprk9_JUEKatEExQQ3RXyKjLnNa3woxKHY1oVusPfdxV2kR34LOHvXBBl-O3AUFSvBkTwmVT_r9aq19SzivsilMKnbzxRJwToLTD0cb2SiYXIc8lJ7WrdMZafIZNivahLD62jIsu2lCeMahwJ35dPvgqXoHoQtRzT3C2XIbAwETv0IZLZ6tDcGgIxlcaHdlErYqHaae3Lkh8vVo6dVpx-mrrDh9wOCkSsgfXFjfyIOfi7f1frFMEVPy46bOoVIaiMbl7jvdF_SdtPVkiDhEb-G92B53Ym-dtgbMOUVf6A3plUfIcwpipyO3kQ3HTwsdYVzxdmmywZulb6CgXwn-GOrP8o5tumRytZMHMseYw7ki45Z2lgtarYo4cg7qikZBVfijcreDnTBD-QKtyJYHNCeshfJgnlyxtL7lS4Gs_LiF7oUFuv7mN_ZUMYxDyiNO5BB-9L77HfBBRCZm-SF2H0tjf3z18rj9nU0eGezyQJaNdSocOu_3VhNQH0F1H6E3Z6UBMIgFL89eCSeSNHDhNHIEY6F9XQYy6WSuJQBWixR-6sHQV19RMDqoHqaWd_lKbYTe_vVpmgAQKZ7yMZu- -9nz66SLU9jsNXnV7kBB6SFibGXsAuJP8ITIqJ-od4LCOHCLP6mbn8jgFfnhJ8dYjlXUqcpAEwFX5yhIpy8kWSBAxhGU2vr3B5EbJNsrgtiESXEPrGuJrnjiSrDfRIdJWeKFVRiREMp8U7KF6TutVihqG2Or7pK6vd6aHkES09DZ5W9NbtomeleMJ66v_d98_sqSodncboLq28lQhOsQ1vZQ7SEXfYpLM4D4awQ24pNVyotCmklJkcKjaeHqXASA9oZMPg8So1iXPLZGkXFh6lNnqE3JOqGmCcsFYDATVk8MChTmFsoHvZYgkHaNvhapOOPEqYCt6pTrdTmm6egRWQGihNSSPyFLNtvlKf-646DJ6yVe9LVmi37xcpYTEjMa8kVjQKEAfrCgROHIe8MkIrFzvfauDEskEVncOSP9-tTXHtPCLAOTNBbZfJkFE77aqvGv4h5LE-cFnzaY3a3aPdomDYCXdjyxnEog7YSJPiqvuMUbtUplqHt13CrrZtEL8qgPsATP7tM2Rf4BQGdlrHN5h7rQRaIYT1qVAGDQy6lN9Bv39Z_vkiXTwB4pa5bsLb5L8UwQJravsoAOuaQRjNQa6NOBXbi-V7UdNkpO0P1DhnzkJknii9J04dfaiOjkesnoRcoXQGTT1SMksC81PiVwLOpPaSKp334b3GDhXJN6AwNsVboLGBefygwwXN8u3CFKm8HGvxT_TZWr5Cub2u1BQjRYMeKJgDvxUBqJ8hSfjTJHUKk7H0_fGIvCkwFFGi4D87Mb5PEtyNDi4Vq8vx8JjjOfonSYrsnmZN3auelBwrT8CSIgpg_VsulQRAcFMiclm6DL431jUJaBWD5aIRKHQu0dlDUoSvpYyZC1nWwNjp9r1uhxPhYtZ6uUAJyAl0y-AFhrmBf37T7Daxf4n6rvkU3FBxw6m00]--></g></svg>